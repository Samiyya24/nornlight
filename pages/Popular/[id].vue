<script setup>
import { ref, onMounted } from "vue";
import { useRoute } from "vue-router";

const route = useRoute();
const product = ref(null);

onMounted(async () => {
  const productId = route.params.id;
  const api = `https://6683b4784102471fa4cb06d1.mockapi.io/products/${productId}`;

  try {
    const response = await fetch(api);
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    product.value = await response.json();
  } catch (error) {
    console.error("Error fetching product data:", error);
  }
});

const info = ref([
  {
    color: "Жёлтый",
    year: "2016",
    diametr: "27.5",
    material: "Карбон",
    size: "L",
    location: "Швейцария",
    madeIn: "Scott",
    tires:
      "Schwalbe Rocket Ron EVO / 2.1 127EPI Kevlar Bead Tubeless Easy / PaceStar compound",
    frame:
      "Scale Carbon / HMX-технология / технология IMP / Коническая рулевая труба / BB92 / Технология SDS / Дропауты IDS SL",
    seatpost:
      "Ritchey WCS 700 Series: Carbon Link FlexLogic / 31.6mm 900 Series: Carbon 2B SDS / 34.9mm",
    saddle: "Седло Ritchey WCS Streem V3 Titanium rails",
    fork: "Rock Shox SID RL3 Air / демпфер DNA3 3-режима / 15mm QR axle / коническая рулевая труба / Удалённая блокировка, регулировка отскока / ход 100mm",
  },
]);
</script>

<template>
  <div class="container mt-12">
    <div>
      <nuxt-link class="text-primary/50" to="/">Главная ></nuxt-link>
    </div>
    <div class="mt-12">
      <div v-if="product" class="md:flex gap-14">
        <img class="w-1/2" :src="product.photo" alt="Product image" />
        <div class="flex items-center gap-[10px] mt-3">
          <img class="max-w-[80px]" :src="product.photo" alt="Product image" />
          <img class="max-w-[80px]" :src="product.photo" alt="Product image" />
          <img class="max-w-[80px]" :src="product.photo" alt="Product image" />
          <img class="max-w-[80px]" :src="product.photo" alt="Product image" />
        </div>
        <div class="md:w-1/2">
          <h1 class="text-[40px] text-primary">{{ product.title }}</h1>
          <div class="flex items-center justify-between mt-10">
            <div>
              <p class="text-[#B3B3B3]">Scott</p>
              <p class="text-[#B3B3B3]">Артикул : 7655-188</p>
              <p class="text-[#4D932C]">В наличии</p>
            </div>
            <div class="flex items-center gap-2">
              <svg
                width="22"
                height="21"
                viewBox="0 0 22 21"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect width="22" height="21" rx="10.5" fill="#E5E5E5" />
                <path
                  class="hover:fill-[#4C4C4C]"
                  d="M14.4311 11.9663C14.7197 11.6909 14.7609 11.2973 14.5136 10.9038C14.3074 10.5889 13.9364 10.4315 13.5241 10.5102C13.3592 10.5496 13.1942 10.6283 13.0293 10.7463C11.7512 11.5728 10.0196 11.5334 8.74155 10.707C8.6591 10.6676 8.57664 10.6283 8.49418 10.5889C8.04067 10.3922 7.58716 10.4709 7.33979 10.8644C7.05119 11.258 7.09241 11.6909 7.46347 12.045C7.54592 12.1238 7.62838 12.1631 7.66961 12.2418L7.71084 12.2812C8.28804 12.7141 8.98893 12.9896 9.89596 13.1076L9.35998 13.6192C8.90647 14.0521 8.41173 14.5244 7.95821 14.9573C7.83453 15.0753 7.66961 15.2721 7.66961 15.5476C7.66961 15.9018 7.87576 16.256 8.24681 16.4134C8.3705 16.4921 8.49418 16.4921 8.61787 16.4921C8.82401 16.4921 9.07138 16.4134 9.2363 16.2166C9.85472 15.6263 10.3495 15.1541 10.8442 14.6818C10.8854 14.6424 10.8854 14.6424 10.8854 14.6424C10.8854 14.6424 10.9267 14.6424 10.9267 14.6818C11.2565 15.036 11.6276 15.3508 11.9574 15.705C12.1223 15.8624 12.2872 16.0199 12.4521 16.1773C12.6583 16.374 12.8232 16.4528 13.0706 16.4528C13.4416 16.4921 13.8539 16.256 14.0188 15.9018C14.1837 15.5869 14.1013 15.1934 13.8127 14.9573C13.4004 14.5637 12.9881 14.1308 12.5346 13.7373L11.8337 13.0683C12.2048 13.0289 12.617 12.9502 12.9881 12.7928C13.6065 12.596 14.06 12.3205 14.4311 11.9663Z"
                  fill="white"
                />
                <path
                  d="M10.8854 10.8644C12.6583 10.8644 14.1013 9.52635 14.1013 7.8341C14.1013 7.00766 13.7714 6.22057 13.153 5.63025C12.5346 5.03994 11.7512 4.7251 10.9267 4.7251C9.15384 4.7251 7.75207 6.1025 7.71084 7.75539C7.71084 8.58184 8.04067 9.32958 8.6591 9.91989C9.2363 10.5496 10.0196 10.8644 10.8854 10.8644ZM9.97841 6.92895C10.2258 6.69283 10.5556 6.57476 10.8854 6.57476C11.6276 6.57476 12.1635 7.12572 12.1635 7.79475C12.1635 8.50313 11.5863 9.01474 10.8854 9.01474C10.1433 9.01474 9.60736 8.46378 9.60736 7.79475C9.60736 7.47992 9.73104 7.16508 9.97841 6.92895Z"
                  fill="white"
                />
                <path
                  d="M14.4311 11.9663C14.7197 11.6909 14.7609 11.2973 14.5136 10.9038C14.3074 10.5889 13.9364 10.4315 13.5241 10.5102C13.3592 10.5496 13.1942 10.6283 13.0293 10.7463C11.7512 11.5728 10.0196 11.5334 8.74155 10.707C8.6591 10.6676 8.57664 10.6283 8.49418 10.5889C8.04067 10.3922 7.58716 10.4709 7.33979 10.8644C7.05119 11.258 7.09241 11.6909 7.46347 12.045C7.54592 12.1238 7.62838 12.1631 7.66961 12.2418L7.71084 12.2812C8.28804 12.7141 8.98893 12.9896 9.89596 13.1076L9.35998 13.6192C8.90647 14.0521 8.41173 14.5244 7.95821 14.9573C7.83453 15.0753 7.66961 15.2721 7.66961 15.5476C7.66961 15.9018 7.87576 16.256 8.24681 16.4134C8.3705 16.4921 8.49418 16.4921 8.61787 16.4921C8.82401 16.4921 9.07138 16.4134 9.2363 16.2166C9.85472 15.6263 10.3495 15.1541 10.8442 14.6818C10.8854 14.6424 10.8854 14.6424 10.8854 14.6424C10.8854 14.6424 10.9267 14.6424 10.9267 14.6818C11.2565 15.036 11.6276 15.3508 11.9574 15.705C12.1223 15.8624 12.2872 16.0199 12.4521 16.1773C12.6583 16.374 12.8232 16.4528 13.0706 16.4528C13.4416 16.4921 13.8539 16.256 14.0188 15.9018C14.1837 15.5869 14.1013 15.1934 13.8127 14.9573C13.4004 14.5637 12.9881 14.1308 12.5346 13.7373L11.8337 13.0683C12.2048 13.0289 12.617 12.9502 12.9881 12.7928C13.6065 12.596 14.06 12.3205 14.4311 11.9663Z"
                  fill="white"
                />
              </svg>
              <svg
                width="21"
                height="21"
                viewBox="0 0 21 21"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect width="21" height="21" rx="10.5" fill="#E5E5E5" />
                <path
                  d="M11.0154 14.175C7.06924 14.175 4.81839 11.4159 4.72461 6.82495H6.70131C6.76624 10.1946 8.22352 11.6219 9.3778 11.9162V6.82495H11.2391V9.73111C12.3789 9.60603 13.5765 8.28171 13.9805 6.82495H15.8418C15.6895 7.58047 15.3861 8.29582 14.9504 8.92626C14.5146 9.55671 13.9561 10.0887 13.3096 10.4889C14.0312 10.8546 14.6686 11.3722 15.1797 12.0076C15.6908 12.643 16.064 13.3817 16.2746 14.175H14.2258C14.0367 13.4859 13.6524 12.8692 13.1211 12.4019C12.5898 11.9347 11.9351 11.6378 11.2391 11.5484V14.175H11.0154Z"
                  fill="white"
                />
              </svg>
              <svg
                width="21"
                height="21"
                viewBox="0 0 21 21"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect width="21" height="21" rx="10.5" fill="#E5E5E5" />
                <path
                  d="M14.6996 6.61622L13.1218 14.8535C13.1218 14.8535 12.901 15.4246 12.2945 15.1507L8.65401 12.2602L8.63713 12.2516C9.12888 11.7944 12.9421 8.24395 13.1088 8.08301C13.3668 7.83376 13.2066 7.68538 12.9071 7.87366L7.27443 11.5779L5.10137 10.8207C5.10137 10.8207 4.75939 10.6947 4.7265 10.4208C4.69316 10.1465 5.11262 9.99809 5.11262 9.99809L13.9715 6.39925C13.9715 6.39925 14.6996 6.06796 14.6996 6.61622Z"
                  fill="white"
                />
              </svg>
              <svg
                width="22"
                height="21"
                viewBox="0 0 22 21"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect width="22" height="21" rx="10.5" fill="#E5E5E5" />
                <path
                  d="M15.3598 6.33291C14.2732 5.29932 12.8244 4.7251 11.2951 4.7251C8.11585 4.7251 5.54024 7.1751 5.54024 10.1993C5.54024 11.1563 5.82195 12.1134 6.30488 12.9173L5.5 15.7501L8.55854 14.9845C9.40366 15.4056 10.3293 15.6353 11.2951 15.6353C14.4744 15.6353 17.05 13.1853 17.05 10.161C17.0098 8.74463 16.4463 7.3665 15.3598 6.33291ZM14.072 12.1517C13.9512 12.4579 13.3878 12.7642 13.1061 12.8024C12.8646 12.8407 12.5427 12.8407 12.2207 12.7642C12.0195 12.6876 11.7378 12.611 11.4159 12.4579C9.96707 11.8837 9.04146 10.5056 8.96098 10.3907C8.88049 10.3142 8.35732 9.66338 8.35732 8.97432C8.35732 8.28525 8.71951 7.979 8.84024 7.82588C8.96098 7.67275 9.12195 7.67275 9.24268 7.67275C9.32317 7.67275 9.4439 7.67275 9.52439 7.67275C9.60488 7.67275 9.72561 7.63447 9.84634 7.90244C9.96707 8.17041 10.2488 8.85947 10.289 8.89775C10.3293 8.97432 10.3293 9.05088 10.289 9.12744C10.2488 9.204 10.2085 9.28057 10.128 9.35713C10.0476 9.43369 9.96707 9.54853 9.92683 9.58682C9.84634 9.66338 9.76585 9.73994 9.84634 9.85478C9.92683 10.0079 10.2085 10.429 10.6512 10.8118C11.2146 11.2712 11.6573 11.4243 11.8183 11.5009C11.9793 11.5774 12.0598 11.5392 12.1402 11.4626C12.2207 11.386 12.5024 11.0798 12.5829 10.9267C12.6634 10.7735 12.7841 10.8118 12.9049 10.8501C13.0256 10.8884 13.75 11.2329 13.8707 11.3095C14.0317 11.386 14.1122 11.4243 14.1524 11.4626C14.1927 11.5774 14.1927 11.8454 14.072 12.1517Z"
                  fill="white"
                />
              </svg>
              <svg
                width="21"
                height="21"
                viewBox="0 0 21 21"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect width="21" height="21" rx="10.5" fill="#E5E5E5" />
                <path
                  d="M13.7833 5.0117C11.7823 4.62956 9.70425 4.62956 7.70321 5.0117C6.81813 5.20277 5.70216 6.27276 5.50975 7.11347C5.16342 8.75667 5.16342 10.4381 5.50975 12.0813C5.74064 12.922 6.85661 13.992 7.70321 14.1831C7.74169 14.1831 7.78017 14.2213 7.78017 14.2595V16.667C7.78017 16.7816 7.9341 16.858 8.01106 16.7434L9.16551 15.5588C9.16551 15.5588 10.0891 14.6034 10.243 14.4505C10.243 14.4505 10.2815 14.4123 10.32 14.4123C11.4744 14.4506 12.6673 14.3359 13.8218 14.1448C14.7069 13.9538 15.8228 12.8838 16.0152 12.0431C16.3616 10.3999 16.3616 8.71846 16.0152 7.07526C15.7844 6.27276 14.6684 5.20277 13.7833 5.0117ZM13.8218 12.1959C13.6294 12.5781 13.3985 12.8838 13.0137 13.0748C12.8982 13.1131 12.7828 13.1513 12.6673 13.1895C12.5134 13.1513 12.398 13.1131 12.2825 13.0748C11.0511 12.5781 9.89666 11.8902 8.9731 10.8967C8.47284 10.3234 8.04954 9.6738 7.70321 8.98595C7.54928 8.64203 7.39535 8.33632 7.27991 7.99239C7.16446 7.68668 7.35687 7.38097 7.54928 7.15168C7.74169 6.9224 7.97258 6.76954 8.24195 6.6549C8.43436 6.54026 8.62677 6.61669 8.78069 6.76954C9.08855 7.15168 9.3964 7.53382 9.62729 7.95418C9.78122 8.22167 9.74273 8.52739 9.47336 8.71846C9.3964 8.75667 9.35792 8.79488 9.28095 8.87131C9.24247 8.90953 9.16551 8.94774 9.12703 9.02417C9.05006 9.13881 9.05006 9.25345 9.08855 9.36809C9.3964 10.247 9.97362 10.9349 10.8587 11.317C11.0126 11.3934 11.1281 11.4316 11.3205 11.4316C11.5899 11.3934 11.7053 11.0877 11.8977 10.9349C12.0901 10.782 12.321 10.782 12.5519 10.8967C12.7443 11.0113 12.9367 11.1641 13.1676 11.317C13.36 11.4699 13.5524 11.5845 13.7448 11.7374C13.8603 11.8138 13.8988 12.0049 13.8218 12.1959ZM12.2056 9.32988C12.1286 9.32988 12.1671 9.32988 12.2056 9.32988C12.0516 9.32988 12.0132 9.25345 11.9747 9.13881C11.9747 9.06238 11.9747 8.94774 11.9362 8.87131C11.8977 8.71846 11.8207 8.5656 11.6668 8.45096C11.5899 8.41274 11.5129 8.37453 11.4359 8.33632C11.3205 8.2981 11.2435 8.2981 11.1281 8.2981C11.0126 8.25989 10.9741 8.18346 10.9741 8.06882C10.9741 7.99239 11.0896 7.91596 11.1666 7.91596C11.7823 7.95418 12.244 8.2981 12.321 9.02417C12.321 9.06238 12.321 9.13881 12.321 9.17702C12.321 9.25345 12.2825 9.32988 12.2056 9.32988ZM11.8207 7.64847C11.6283 7.57204 11.4359 7.49561 11.205 7.4574C11.1281 7.4574 11.0126 7.41918 10.9357 7.41918C10.8202 7.41918 10.7433 7.34275 10.7817 7.22811C10.7817 7.11347 10.8587 7.03704 10.9741 7.07526C11.359 7.11347 11.7053 7.1899 12.0516 7.34275C12.7443 7.68668 13.1291 8.25989 13.2446 9.02417C13.2446 9.06238 13.2446 9.1006 13.2446 9.13881C13.2446 9.21524 13.2446 9.29166 13.2446 9.40631C13.2446 9.44452 13.2446 9.48274 13.2446 9.52095C13.2061 9.67381 12.9367 9.71202 12.8982 9.52095C12.8982 9.48274 12.8598 9.40631 12.8598 9.36809C12.8598 9.02417 12.7828 8.68024 12.6289 8.37453C12.398 8.0306 12.1286 7.80132 11.8207 7.64847ZM13.8988 9.9413C13.7833 9.9413 13.7063 9.82666 13.7063 9.71202C13.7063 9.48274 13.6679 9.25345 13.6294 9.02417C13.4755 7.80132 12.4749 6.80776 11.282 6.61669C11.0896 6.57847 10.8972 6.57847 10.7433 6.54026C10.6278 6.54026 10.4739 6.54026 10.4354 6.3874C10.3969 6.27276 10.5124 6.15812 10.6278 6.15812C10.6663 6.15812 10.7048 6.15812 10.7048 6.15812C10.7817 6.15812 12.2825 6.19633 10.7048 6.15812C12.321 6.19633 13.6679 7.26633 13.9372 8.87131C13.9757 9.13881 14.0142 9.40631 14.0142 9.71202C14.0912 9.82666 14.0142 9.9413 13.8988 9.9413Z"
                  fill="white"
                />
              </svg>
            </div>
          </div>
          <div class="flex items-center mt-10">
            <p class="text-[40px] font-medium text-[#101010]">
              {{ product.price }}₽
            </p>
            <p class="text-lg text-[#B3B3B3] line-through font-medium">
              {{ product.discountPercentage }}₽
            </p>
          </div>
          <p class="mt-10 text-[#4C4C4C] leading-[25.6px] md:w-[605px]">
            Профессиональный гоночный хардтейл для кросс-кантри уровня
            Чемпионата и Кубка Мира. Одна из самых легких рам среди гоночных
            хардтейлов для кросс-кантри.
          </p>
          <div class="flex items-center gap-4 mt-12">
            <div class="border p-4 flex gap-8 rounded-xl font-medium">
              <button>-</button><span>0</span><button>+</button>
            </div>
            <button
              class="max-md:hidden py-4 px-[50px] bg-primary text-white rounded-xl"
            >
              В корзину
            </button>
            <img
              class="bg-[#F8F8F8] p-3 rounded-xl"
              src="/public/like.svg"
              alt=""
            />
          </div>
        </div>
      </div>
      <div v-else>
        <p>Loading...</p>
      </div>
    </div>
    <div v-for="item in info" :key="item.id">
      <div class="flex md:gap-[400px] items-center justify-between py-6 px-7">
        <p class="w-1/2">Цвет</p>
        <span class="w-1/2 text-right">{{ item.color }}</span>
      </div>
      <div
        class="flex md:gap-[400px] items-center justify-between py-6 px-7 bg-[#F8F8F8]"
      >
        <p class="w-1/2">Год</p>
        <span class="w-1/2 text-right">{{ item.year }}</span>
      </div>
      <div class="flex md:gap-[400px] items-center justify-between py-6 px-7">
        <p class="w-1/2">Диаметр колеса</p>
        <span class="w-1/2 text-right">{{ item.diametr }}</span>
      </div>
      <div
        class="flex md:gap-[400px] items-center justify-between py-6 px-7 bg-[#F8F8F8]"
      >
        <p class="w-1/2">Материал рамы</p>
        <span class="w-1/2 text-right">{{ item.material }}</span>
      </div>
      <div class="flex md:gap-[400px] items-center justify-between py-6 px-7">
        <p class="w-1/2">Размер</p>
        <span class="w-1/2 text-right">{{ item.size }}</span>
      </div>
      <div
        class="flex md:gap-[400px] items-center justify-between py-6 px-7 bg-[#F8F8F8]"
      >
        <p class="w-1/2">Страна</p>
        <span class="w-1/2 text-right">{{ item.location }}</span>
      </div>
      <div class="flex md:gap-[400px] items-center justify-between py-6 px-7">
        <p class="w-1/2">Производитель</p>
        <span class="w-1/2 text-right">{{ item.madeIn }}</span>
      </div>
      <div
        class="flex md:gap-[400px] items-center justify-between py-6 px-7 bg-[#f8f8f8]"
      >
        <p class="w-1/2">Покрышки</p>
        <span class="w-1/2 text-right">{{ item.tires }}</span>
      </div>
      <div class="flex md:gap-[400px] items-center justify-between py-6 px-7">
        <p class="w-1/2">Рама</p>
        <span class="w-1/2 text-right">{{ item.frame }}</span>
      </div>
      <div
        class="flex md:gap-[400px] items-center justify-between py-6 px-7 bg-[#f8f8f8]"
      >
        <p class="w-1/2">Подседельный Штырь</p>
        <span class="w-1/2 text-right">{{ item.seatpost }}</span>
      </div>
      <div class="flex md:gap-[400px] items-center justify-between py-6 px-7">
        <p class="w-1/2">Седло</p>
        <span class="w-1/2 text-right">{{ item.saddle }}</span>
      </div>
      <div
        class="flex md:gap-[400px] items-center justify-between py-6 px-7 bg-[#f8f8f8]"
      >
        <p class="w-1/2">Вилка</p>
        <span class="w-1/2 text-right">{{ item.fork }}</span>
      </div>
    </div>
  </div>
</template>

<style lang="scss" scoped>
p {
  font-weight: 500;
  color: #101010;
}
span {
  color: #4c4c4c;
}
/* Add your styles here */
</style>
